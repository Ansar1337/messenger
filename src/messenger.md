# Техническое задание

## Проект: **Мессенджер**

---

### 1. Общие требования

1. Приложение представляет собой чат для переписки между двумя и более участниками.
2. Не требуется привязка к номеру телефона или другим идентификаторам.
3. Реализуется **публичная чат-комната** (не приватный мессенджер).
4. Обмен осуществляется **только текстовыми сообщениями**, без поддержки вложений (файлов, изображений).
5. Поддерживается мультиязычность интерфейса.
6. **Редактирование сообщений** после отправки не предусмотрено.

---

### 2. Пользовательский сценарий (пайплайн)

0. При открытии страницы пользователь видит **приветственный экран** с предложением войти или зарегистрироваться.
1. Для начала общения пользователь должен **зарегистрироваться**, указав логин и пароль, либо **войти** в ранее созданный аккаунт.
2. После входа происходит переход на основной экран приложения. Пользователь видит:

    * список участников текущей комнаты,
    * список сообщений за **последние сутки**.
3. Участник может отправлять сообщения в общую комнату.

    * Поддерживается **тегирование других участников** (например, через `@имя`).
    * Если сообщение содержит тег, для упомянутого участника оно выделяется визуально.
4. Участник может **игнорировать** других пользователей.

    * Сообщения от игнорируемых пользователей не отображаются, даже если они содержат тег.
5. Поддерживается **выбор и вставка эмодзи** в сообщение.
6. При выходе из чата пользователь **удаляется из списка активных участников**.

---

### 3. UI / UX

#### 3.1 Структура интерфейса

Приложение состоит из двух основных экранов:

* Экран входа/регистрации (`/auth`)
* Экран чата (`/chat`)

Переход между экранами осуществляется по маршрутам (роутам).
Если пользователь авторизован — сразу отображается экран чата, иначе — экран входа.

---

#### 3.2 Экран входа / регистрации

* Содержит логотип чата, название проекта и форму:

    * поля ввода логина и пароля,
    * кнопки:

        * **"Войти"**
        * **"Создать новый аккаунт"**

* При нажатии на **"Создать новый аккаунт"**:

    * форма расширяется: добавляется второе поле для подтверждения пароля;
    * кнопка "Войти" меняет название на "Создать";
    * кнопка "Создать новый аккаунт" меняет название на "У меня уже есть аккаунт".

* При нажатии на **"У меня уже есть аккаунт"** форма возвращается к режиму входа.

* При нажатии на **"Создать"**:

    * выполняется проверка полей (например, совпадение паролей),
    * отправляется запрос на регистрацию;

        * при успешной регистрации — пользователь автоматически авторизуется и попадает на экран чата;
        * при ошибке — текст ошибки отображается пользователю.

* При нажатии на **"Войти"**:

    * отправляется запрос на вход;

        * при успешной авторизации — происходит переход на экран чата;
        * при ошибке — текст ошибки отображается пользователю.

---

#### 3.3 Экран чата

Состоит из следующих компонентов:

##### Шапка

* Ник пользователя (указывается при регистрации)
* Статус (онлайн, оффлайн, отошел)
* Кнопка загрузки аватарки

    * загружается с локального устройства;
    * перед отправкой аватарка уменьшается до 100×100 px.
* Кнопка **"Выход"** — завершает сессию и возвращает на стартовый экран.

---

##### Список пользователей

* Каждая строка:

    * аватарка пользователя,
    * никнейм,
    * статус (цветной индикатор):

        * **Зеленый** — онлайн (последнее сообщение менее 30 минут назад),
        * **Желтый** — отошел (30–60 минут),
        * **Красный** — оффлайн (более часа),
        * если пользователь задал статус вручную — он отображается в приоритетном порядке.
    * кнопка блокировки/разблокировки.

* Клик по имени пользователя — добавляет тег в поле ввода сообщения (`@ник`).

---

##### Окно чата

* Сообщения отображаются в виде **бабблов**, содержащих:

    * аватарку отправителя,
    * никнейм,
    * текст сообщения,
    * дату и время отправки.

* Форма ввода:

    * поле ввода текста,
    * кнопка открытия панели эмодзи,
    * кнопка отправки:

        * по нажатию сообщение отправляется на сервер и отображается у всех участников,
        * поле ввода очищается.

---

### 4. Аутентификация

* Осуществляется через **cookie**.
* Серверная часть предоставляется преподавателем.

